<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Anthony AI (ATN) – Official Token Site</title>
  <meta name="description" content="Official page for Anthony AI (ATN) token on BNB Chain. Contract, tokenomics, LP lock, roadmap, and links." />
  <meta property="og:title" content="Anthony AI (ATN) – Official" />
  <meta property="og:description" content="ATN on BNB Chain. Fixed 2,000,000 supply. LP locked until 31 Dec 2029. View contract, tokenomics, and roadmap." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#0ea5e9" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

  <style>
    :root{
      --bg: #0b1220;
      --card: #0f172a;
      --muted: #94a3b8;
      --text: #e2e8f0;
      --accent: #06b6d4;
      --accent-2: #22c55e;
      --ring: rgba(34,197,94,.25);
      --shadow: 0 8px 30px rgba(2,6,23,.35);
      --radius: 16px;
    }
    *{box-sizing: border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 20% -20%, #0ea5e933, transparent),
                  radial-gradient(900px 500px at 80% -10%, #22c55e22, transparent),
                  var(--bg);
      color: var(--text);
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{opacity:.9}
    .container{width:min(1180px, 92vw); margin-inline:auto}
    header{
      position:sticky; top:0; z-index:50; backdrop-filter:saturate(150%) blur(8px);
      background:linear-gradient(180deg, rgba(15,23,42,.8), rgba(15,23,42,.55));
      border-bottom:1px solid rgba(148,163,184,.12);
    }
    .nav{display:flex; align-items:center; gap:16px; padding:14px 0}
    .brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.3px}
    .brand .logo{width:34px; height:34px; border-radius:9px; background:conic-gradient(from 210deg, #22c55e, #06b6d4); box-shadow:var(--shadow)}
    .grow{flex:1}
    .nav a.btn{padding:10px 14px; border:1px solid rgba(148,163,184,.18); border-radius:12px; color:var(--text)}
    .nav a.cta{background:linear-gradient(135deg, #22c55e, #06b6d4); color:#06202a; font-weight:700; border:none}

    .hero{display:grid; grid-template-columns:1.1fr .9fr; gap:34px; align-items:center; padding:60px 0}
    @media (max-width:900px){.hero{grid-template-columns:1fr; padding:40px 0}}
    h1{font-size:clamp(32px, 4.8vw, 54px); line-height:1.06; margin:0 0 12px}
    .lead{font-size:clamp(16px, 2vw, 18px); color:var(--muted)}
    .card{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01)); border:1px solid rgba(148,163,184,.12); border-radius:var(--radius); box-shadow:var(--shadow)}
    .pill{display:inline-flex; gap:8px; align-items:center; padding:8px 12px; border-radius:999px; border:1px solid rgba(148,163,184,.16); color:var(--muted)}

    .grid{display:grid; gap:18px}
    .grid.cols-3{grid-template-columns:repeat(3, 1fr)}
    .grid.cols-2{grid-template-columns:repeat(2, 1fr)}
    @media (max-width:900px){.grid.cols-3,.grid.cols-2{grid-template-columns:1fr}}

    .section{padding:48px 0}
    .section h2{margin:0 0 8px; font-size:32px}
    .section p.sub{color:var(--muted); margin:0 0 16px}

    .contract{display:grid; gap:10px}
    .copy-row{display:flex; gap:10px; align-items:center; background:var(--card); padding:12px; border-radius:12px; border:1px solid rgba(148,163,184,.16)}
    .copy-row code{white-space:nowrap; overflow:auto; scrollbar-width:none}
    .copy-row button{margin-left:auto; background:transparent; color:var(--accent); border:1px dashed rgba(6,182,212,.5); border-radius:10px; padding:8px 10px; cursor:pointer}

    .token-stats{display:grid; grid-template-columns:repeat(3, 1fr); gap:12px}
    @media (max-width:700px){.token-stats{grid-template-columns:1fr}}
    .stat{padding:18px; border-radius:14px; border:1px solid rgba(148,163,184,.14); background:var(--card)}
    .stat small{display:block; color:var(--muted)}
    .stat strong{font-size:20px}

    .card-pad{padding:20px}
    .btn{display:inline-flex; align-items:center; gap:10px; border-radius:12px; padding:12px 14px; border:1px solid rgba(148,163,184,.18); color:var(--text)}
    .btn.primary{background:linear-gradient(135deg, #22c55e, #06b6d4); color:#06202a; border:none; font-weight:700}

    .road{display:grid; gap:14px}
    .road .step{padding:16px; border:1px solid rgba(148,163,184,.14); border-radius:14px; background:var(--card)}
    .road .step h4{margin:0 0 6px}
    .badge{display:inline-block; padding:3px 10px; border-radius:999px; background:#0b2e24; color:#34d399; border:1px solid #14532d; font-size:12px; font-weight:600}

    footer{padding:36px 0; color:var(--muted); border-top:1px solid rgba(148,163,184,.12)}
    .links{display:flex; flex-wrap:wrap; gap:10px}
    .links a{padding:10px 12px; border:1px solid rgba(148,163,184,.18); border-radius:10px}

    .disclaimer{font-size:13.5px; color:#93a7c0}

    /* Chart container */
    .chart-embed{
      position: relative;
      width: 100%;
      height: 560px;
      border: 1px solid rgba(148,163,184,.12);
      border-radius: 14px;
      overflow: hidden;
      background: var(--card);
    }
    .chart-embed iframe{
      position: absolute; inset: 0;
      width: 100%; height: 100%;
      border: 0;
    }

    /* Claim extras */
    .btn.twitter{ background:#1da1f2; color:#fff; border:none }
    #countdown{ font-weight:700; letter-spacing:.5px }
    #claim { scroll-margin-top: 80px; }
  </style>

  <!-- Claim card redesign CSS -->
  <style>
    /* ===== Claim card – redesigned ===== */
    #airdrop.claim-card{
      background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
      border:1px solid rgba(148,163,184,.14);
      border-radius: 18px;
      box-shadow: var(--shadow);
      padding: 18px;
    }
    @media (min-width: 900px){
      #airdrop.claim-card{ padding: 22px 24px; }
    }
    .claim-header{
      display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:14px;
    }
    .account-badge{
      font-size:13px; color:var(--muted);
      padding:6px 10px; border:1px dashed rgba(148,163,184,.2);
      border-radius:10px;
    }
    .row{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    .row + .row{ margin-top:10px; }
    .chip{
      padding:8px 12px; border-radius:12px;
      border:1px solid rgba(148,163,184,.16);
      background: var(--card); color:var(--text); font-variant-numeric: tabular-nums;
    }
    #openBadge{ background:#0b2e24; border:1px solid #14532d; color:#34d399; }
    .stats-grid{
      display:grid; gap:10px; margin-top:12px;
      grid-template-columns: repeat(4, minmax(140px,1fr));
    }
    @media (max-width: 900px){ .stats-grid{ grid-template-columns:1fr 1fr; } }
    .stat-card{
      background: var(--card); border:1px solid rgba(148,163,184,.14);
      border-radius:12px; padding:12px 14px;
    }
    .stat-card small{ color:var(--muted); display:block; }
    .stat-card strong{ font-size:18px; }
    .progress-wrap{ margin-top:8px; }
    .progress{ position:relative; height:10px; background:rgba(148,163,184,.18); border-radius:999px; overflow:hidden; }
    .progress::after{
      content:""; position:absolute; inset:0 0 0 0; width:var(--pct,0%);
      background:linear-gradient(90deg,#22c55e,#06b6d4);
      border-radius:inherit;
    }
    .progress-meta{ display:flex; justify-content:space-between; margin-top:6px; color:var(--muted); font-size:13px; }
    .actions{ display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; }
    #claimBtn{ padding:12px 18px; font-weight:700; }
    #claimBtn:disabled{ opacity:.6; cursor:not-allowed; }
    .status-line{
      margin-top:10px;
      padding:10px 12px; border:1px dashed rgba(148,163,184,.18);
      background:rgba(148,163,184,.06); border-radius:12px; color:var(--muted);
    }
    #connectBtn{ box-shadow: 0 6px 20px rgba(34,197,94,.15); }
  </style>

  <!-- Real logo CSS -->
  <style>
    .brand a{ display:flex; align-items:center; gap:10px; color:var(--text); text-decoration:none; }
    .brand a:hover{ opacity:.9; }
    .brand img{ height:34px; width:auto; border-radius:9px; box-shadow:var(--shadow); display:block; }
  </style>

  <!-- Icons / preview -->
  <link rel="icon" href="/favicon-32.png" type="image/png" sizes="32x32">
  <meta property="og:image" content="/og-image.png">
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand">
        <a href="https://vnbot.ai.vn" target="_blank" rel="noopener" title="Go to official website">
          <img src="/logo_atn.png" alt="Anthony AI (ATN) logo">
          Anthony AI <span style="opacity:.7; font-weight:600">(ATN)</span>
        </a>
      </div>
      <div class="grow"></div>
      <a class="btn" href="#tokenomics">Tokenomics</a>
      <a class="btn" href="#roadmap">Roadmap</a>
      <a class="btn" href="#chart">Chart</a>
      <a class="btn" href="#claim">Claim</a>
      <a class="btn" href="https://bscscan.com/token/0xb5C84953983931dd2C10C9b04a4379eE52697193" target="_blank" rel="noopener">BscScan</a>
      <a class="btn cta" href="https://pancakeswap.finance/swap?outputCurrency=0xb5C84953983931dd2C10C9b04a4379eE52697193" target="_blank" rel="noopener">Trade on PancakeSwap</a>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section class="hero">
      <div>
        <span class="pill">BNB Chain · BEP-20</span>
        <h1>Anthony AI (ATN)</h1>
        <p class="lead">Fixed <strong>2,000,000 ATN</strong> supply. Liquidity is <strong>locked until 31 Dec 2029</strong>. Transparent tokenomics, community-first roadmap, and practical AI-driven utility.</p>
        <div class="section" style="padding:18px 0 0">
          <div class="token-stats">
            <div class="stat"><small>Total Supply</small><strong>2,000,000 ATN</strong></div>
            <div class="stat"><small>LP Lock</small><strong>PinkLock → 31 Dec 2029</strong></div>
            <div class="stat"><small>Decimals</small><strong>18</strong></div>
          </div>
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:8px">
          <a class="btn primary" href="https://pancakeswap.finance/swap?outputCurrency=0xb5C84953983931dd2C10C9b04a4379eE52697193" target="_blank" rel="noopener">Buy / Trade</a>
          <a class="btn" href="https://bscscan.com/token/0xb5C84953983931dd2C10C9b04a4379eE52697193" target="_blank" rel="noopener">View Contract</a>
          <a class="btn" href="https://pinksale.finance/pinklock/bsc/0x6a0ba3d48b25855bad2102796c837d9668ff8c18" target="_blank" rel="noopener">Verify LP Lock</a>
        </div>
      </div>

      <div class="card card-pad">
        <h3 style="margin:0 0 8px">Contract Address</h3>
        <p class="sub" style="margin:0 0 10px; color:var(--muted)">Click to copy or add the token to your wallet.</p>
        <div class="contract">
          <div class="copy-row" title="ATN Contract on BNB Chain">
            <code id="addr">0xb5C84953983931dd2C10C9b04a4379eE52697193</code>
            <button id="copy">Copy</button>
            <button id="watch">Add to Wallet</button>
          </div>
          <small style="color:var(--muted)">LP Token (Cake-LP): <a target="_blank" rel="noopener" href="https://bscscan.com/token/0x6a0ba3d48b25855bad2102796c837d9668ff8c18">0x6a0ba3…fF8c18</a></small>
        </div>
      </div>
    </section>

    <!-- CHART (Combined) -->
    <section id="chart" class="section">
      <h2>Live Chart</h2>
      <p class="sub">Custom line chart + realtime stats (Dexscreener API) & embedded GeckoTerminal.</p>

      <div class="card card-pad" style="margin-bottom:16px">
        <canvas id="priceLine" height="220" aria-label="ATN custom price chart"></canvas>
        <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:12px">
          <div class="stat"><small>Price (USD)</small><strong id="statPrice">—</strong></div>
          <div class="stat"><small>Liquidity</small><strong id="statLiq">—</strong></div>
          <div class="stat"><small>FDV</small><strong id="statFdv">—</strong></div>
          <div class="stat"><small>24h Volume</small><strong id="statVol">—</strong></div>
        </div>
      </div>

      <div class="card card-pad">
        <div class="chart-embed">
          <iframe
            src="https://www.geckoterminal.com/bsc/pools/0x6a0ba3d48b25855bad2102796c837d9668ff8c18?embed=1&theme=dark"
            width="100%" height="600" style="border:0; border-radius:14px; overflow:hidden"
            allowfullscreen loading="lazy"></iframe>
        </div>

        <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
          <a class="btn" target="_blank" rel="noopener"
            href="https://dexscreener.com/bsc/0x6a0ba3d48b25855bad2102796c837d9668ff8c18">Open on Dexscreener</a>
          <a class="btn" target="_blank" rel="noopener"
            href="https://www.geckoterminal.com/bsc/pools/0x6a0ba3d48b25855bad2102796c837d9668ff8c18?info=1">View on GeckoTerminal</a>
        </div>
      </div>
    </section>

    <!-- CLAIM -->
    <section id="claim" class="section">
      <h2>Claim Airdrop</h2>
      <p class="sub">Connect your BSC wallet, follow @Token_ATN, then claim.</p>

      <!-- Redesigned card -->
      <div class="claim-card" id="airdrop">
        <!-- header -->
        <div class="claim-header">
          <div class="row">
            <button id="connectBtn" class="btn primary">🔌 Connect Wallet (BSC)</button>
            <a id="followLink" class="btn twitter" target="_blank" rel="noopener" href="https://x.com/Token_ATN">🔔 Follow @Token_ATN</a>
            <label class="chip" style="display:flex;align-items:center;gap:8px;">
              <input type="checkbox" id="followChk"> I have followed @Token_ATN
            </label>
          </div>
          <span id="accountLabel" class="account-badge"></span>
        </div>

        <!-- countdown -->
        <div class="row">
          <span class="chip"><strong>Countdown:</strong> <span id="countdown" style="margin-left:6px">--:--:--:--</span></span>
          <span id="openBadge" class="chip" style="display:none">CLAIM OPEN</span>
          <span class="chip">Opens (VN): <span id="openAtVN">—</span></span>
        </div>

        <!-- stats -->
        <div class="stats-grid">
          <div class="stat-card"><small>Token</small><strong id="tokenSymbol">ATN</strong></div>
          <div class="stat-card"><small>Per wallet</small><strong id="perWallet">-</strong></div>
          <div class="stat-card"><small>Claimed</small><strong><span id="claimedCount">-</span>/<span id="maxClaims">-</span></strong></div>
          <div class="stat-card"><small>Contract balance</small><strong id="contractBal">-</strong></div>
        </div>

        <!-- progress -->
        <div class="progress-wrap">
          <div id="claimProgress" class="progress"></div>
          <div class="progress-meta">
            <span id="claimProgressLabel">0/0 claimed (0%)</span>
            <span id="remaining"></span>
          </div>
        </div>

        <!-- actions -->
        <div class="actions">
          <button id="claimBtn" class="btn primary" disabled>🎁 Claim</button>
        </div>

        <!-- message -->
        <p id="msg" class="status-line"></p>
      </div>
    </section>

    <!-- TOKENOMICS -->
    <section id="tokenomics" class="section">
      <h2>Tokenomics</h2>
      <p class="sub">Remaining supply distribution (≈ 1.9M ATN). LP locked on PinkLock.</p>
      <div class="grid cols-2">
        <div class="card card-pad">
          <canvas id="pie" height="240" aria-label="ATN distribution chart"></canvas>
        </div>
        <div class="card card-pad">
          <ul style="list-style:none; padding:0; margin:0; display:grid; gap:10px">
            <li><strong>25%</strong> · Development — <span class="muted">475,000 ATN</span></li>
            <li><strong>20%</strong> · Community & Airdrop — <span class="muted">380,000 ATN</span></li>
            <li><strong>20%</strong> · Team (locked) — <span class="muted">380,000 ATN</span></li>
            <li><strong>15%</strong> · Marketing — <span class="muted">285,000 ATN</span></li>
            <li><strong>15%</strong> · Partnerships & Listing — <span class="muted">285,000 ATN</span></li>
            <li><strong>5%</strong> · Reserve — <span class="muted">95,000 ATN</span></li>
          </ul>
          <div style="margin-top:16px; display:flex; gap:10px; flex-wrap:wrap">
            <a class="btn" target="_blank" rel="noopener" href="https://bscscan.com/token/0xb5C84953983931dd2C10C9b04a4379eE52697193#balances">Holders on BscScan</a>
            <a class="btn" target="_blank" rel="noopener" href="https://x.com/Token_ATN">Follow on X</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ROADMAP -->
    <section id="roadmap" class="section">
      <h2>Roadmap</h2>
      <p class="sub">A practical, execution-first plan. Timelines may adjust as we prioritize security and real usage.</p>
      <div class="grid cols-3 road">
        <div class="step">
          <span class="badge">Phase 1</span>
          <h4>Relaunch & Foundations</h4>
          <ul>
            <li>Contract relaunch on BNB Chain</li>
            <li>LP added & <strong>locked to 2029-12-31</strong></li>
            <li>Tokenomics & transparency hub</li>
            <li>Website + Brand refresh</li>
          </ul>
        </div>
        <div class="step">
          <span class="badge">Phase 2</span>
          <h4>Adoption & Listings</h4>
          <ul>
            <li>Community growth & airdrops</li>
            <li>Marketing partnerships</li>
            <li>Analytics dashboard / lite utilities</li>
            <li>Apply for additional listings</li>
          </ul>
        </div>
        <div class="step">
          <span class="badge">Phase 3</span>
          <h4>Utility & Scale</h4>
          <ul>
            <li>AI-assisted features (research / tools)</li>
            <li>Developer grants & integrations</li>
            <li>Ongoing audits & security reviews</li>
            <li>DAO-driven initiatives (subject to feasibility)</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="section">
      <h2>FAQ</h2>
      <div class="grid cols-2">
        <div class="card card-pad">
          <h4 style="margin:0 0 6px">Which network?</h4>
          <p class="sub">BNB Chain (BEP-20). You can add ATN to MetaMask using the “Add to Wallet” button.</p>
          <h4 style="margin:12px 0 6px">Is the LP locked?</h4>
          <p class="sub">Yes. Locked with <a target="_blank" rel="noopener" href="https://pinksale.finance/pinklock/bsc/0x6a0ba3d48b25855bad2102796c837d9668ff8c18">PinkLock</a> until 31 Dec 2029. Always verify links.</p>
          <h4 style="margin:12px 0 6px">Where to trade?</h4>
          <p class="sub">On PancakeSwap: <a target="_blank" rel="noopener" href="https://pancakeswap.finance/swap?outputCurrency=0xb5C84953983931dd2C10C9b04a4379eE52697193">ATN/BNB</a>.</p>
        </div>
        <div class="card card-pad">
          <h4 style="margin:0 0 6px">Contract address?</h4>
          <p class="sub"><code>0xb5C84953983931dd2C10C9b04a4379eE52697193</code> (BNB Chain). View on <a target="_blank" rel="noopener" href="https://bscscan.com/token/0xb5C84953983931dd2C10C9b04a4379eE52697193">BscScan</a>.</p>
          <h4 style="margin:12px 0 6px">Can supply change?</h4>
          <p class="sub">No. Total supply is fixed at 2,000,000 ATN. Distribution is transparent and on-chain.</p>
          <h4 style="margin:12px 0 6px">Contacts</h4>
          <p class="sub">X: <a target="_blank" rel="noopener" href="https://x.com/Token_ATN">@Token_ATN</a> · Telegram: <a target="_blank" rel="noopener" href="#">Coming soon</a> · Email: <a href="mailto:info@atncrypto.com">info@atncrypto.com</a></p>
        </div>
      </div>
      <p class="disclaimer" style="margin-top:16px">Disclaimer: This site is for information only and does not constitute financial advice or a solicitation to invest. Crypto assets are volatile and involve risk. Always do your own research and verify contract addresses.</p>
    </section>
  </main>

  <footer>
    <div class="container" style="display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap">
      <div>© <span id="year"></span> Anthony AI (ATN). All rights reserved.</div>
      <div class="links">
        <a target="_blank" rel="noopener" href="https://bscscan.com/token/0xb5C84953983931dd2C10C9b04a4379eE52697193">BscScan</a>
        <a target="_blank" rel="noopener" href="https://pancakeswap.finance/swap?outputCurrency=0xb5C84953983931dd2C10C9b04a4379eE52697193">PancakeSwap</a>
        <a target="_blank" rel="noopener" href="https://pinksale.finance/pinklock/bsc/0x6a0ba3d48b25855bad2102796c837d9668ff8c18">PinkLock</a>
        <a target="_blank" rel="noopener" href="https://x.com/Token_ATN">X (Twitter)</a>
      </div>
    </div>
  </footer>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Copy & watch asset
    const addr = '0xb5C84953983931dd2C10C9b04a4379eE52697193';
    document.getElementById('copy').addEventListener('click', async () => {
      try{ await navigator.clipboard.writeText(addr); alert('Contract copied to clipboard'); }catch(e){ alert('Copy failed'); }
    });
    document.getElementById('watch').addEventListener('click', async () => {
      if(!window.ethereum){ alert('Wallet not detected'); return }
      try{
        await window.ethereum.request({
          method: 'wallet_watchAsset',
          params: {
            type: 'ERC20', // BEP-20 is ERC-20 compatible
            options: {
              address: addr,
              symbol: 'ATN',
              decimals: 18,
              image: location.origin + '/favicon-32.png'
            }
          }
        });
      }catch(err){ console.log(err); }
    });

    // Tokenomics donut
    const ctx = document.getElementById('pie');
    const data = {
      labels: [
        'Development (25%)',
        'Community & Airdrop (20%)',
        'Team – locked (20%)',
        'Marketing (15%)',
        'Partnerships & Listing (15%)',
        'Reserve (5%)'
      ],
      datasets: [{
        data: [25, 20, 20, 15, 15, 5],
        backgroundColor: ['#22c55e','#60a5fa','#f59e0b','#ef4444','#06b6d4','#a78bfa'],
        borderColor: 'rgba(15,23,42,.8)',
        borderWidth: 2,
        hoverOffset: 6
      }]
    };
    new Chart(ctx, {
      type: 'doughnut',
      data,
      options: {
        plugins: { legend: { position: 'bottom', labels: { color: '#cbd5e1' } } },
        cutout: '55%'
      }
    });
  </script>

  <!-- Ethers v5 (UMD) -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js" crossorigin="anonymous"></script>
  <!-- Fallback ethers.js -->
  <script>
    if (!window.ethers) {
      var s = document.createElement('script');
      s.src = "https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js";
      s.onload  = function(){ console.log("ethers fallback loaded"); };
      s.onerror = function(){
        var el = document.getElementById('msg');
        if (el) el.textContent = "Failed to load ethers.js";
      };
      document.head.appendChild(s);
    }
  </script>

  <!-- Claim logic: countdown + stats + connect + claim -->
  <script>
(() => {
/*** ====== YOUR CONFIG ====== ***/
const X_HANDLE     = "Token_ATN";
const AIRDROP_ADDR = "0xA395c7d4d4A864773D9141E3CDC61599DFea24c0";
const AIRDROP_ABI  = [
  {"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"_startTime","type":"uint256"},{"internalType":"uint256","name":"_amountPerWallet","type":"uint256"},{"internalType":"uint256","name":"_maxClaims","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},
  {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"claimNo","type":"uint256"}],"name":"Claimed","type":"event"},
  {"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Deposited","type":"event"},
  {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},
  {"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdrawn","type":"event"},
  {"inputs":[],"name":"amountPerWallet","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"claim","outputs":[],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"claimed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"claimsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
  {"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"info","outputs":[
    {"internalType":"uint256","name":"_startTime","type":"uint256"},
    {"internalType":"uint256","name":"_amountPerWallet","type":"uint256"},
    {"internalType":"uint256","name":"_maxClaims","type":"uint256"},
    {"internalType":"uint256","name":"_claimsCount","type":"uint256"},
    {"internalType":"bool","name":"_claimed","type":"bool"},
    {"internalType":"uint256","name":"_contractBalance","type":"uint256"}
  ],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"maxClaims","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"startTime","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},
  {"inputs":[],"name":"token","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},
  {"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},
  {"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawLeftover","outputs":[],"stateMutability":"nonpayable","type":"function"}
];

/*** ====== RPCs ====== ***/
const RPCS = [
  "https://bsc-dataseed.binance.org/",
  "https://bsc-dataseed1.defibit.io/",
  "https://bsc-dataseed1.ninicoin.io/",
  "https://bsc-dataseed4.bnbchain.org/",
  "https://endpoints.omniatech.io/v1/bsc/mainnet/public",
  "https://bsc-pokt.nodies.app"
];

/*** ====== UTILS ====== ***/
const $ = id => document.getElementById(id);
const ZERO = "0x0000000000000000000000000000000000000000";
const fmt  = (bn,dec=18)=>ethers.utils.formatUnits(bn,dec);
const short= a => a ? a.slice(0,6)+"…"+a.slice(-4) : "";
function setMsg(t, kind="info"){
  const el=$("msg"); if(!el) return;
  el.textContent = t || "";
  el.style.color = kind==="error" ? "#ef4444" : kind==="warn" ? "#f59e0b" : "var(--muted)";
}

/*** ====== STATE ====== ***/
let provider, signer, airdrop, account=null, pollTimer=null, countdownTimer=null;
let START_TS=0, PER_WALLET="0", MAX=0, COUNT=0, CLAIMED=false, BALANCE="0";

/* NEW: on-chain time sync to make countdown 100% true */
let CHAIN_NOW=0, SYNCED_AT_MS=0, chainSyncTimer=null;
async function syncChainTime(){
  const b = await provider.getBlock('latest');
  CHAIN_NOW = Number(b.timestamp);
  SYNCED_AT_MS = Date.now();
}
function nowSec(){
  // if already synced to chain time, advance from that snapshot; otherwise fall back to local clock
  return CHAIN_NOW
    ? Math.floor(CHAIN_NOW + (Date.now() - SYNCED_AT_MS)/1000)
    : Math.floor(Date.now()/1000);
}

/*** ====== RENDER STATS ====== ***/
function renderStats(){
  $("tokenSymbol") && ($("tokenSymbol").textContent = "ATN");
  $("perWallet")   && ($("perWallet").textContent   = `${fmt(PER_WALLET)} ATN`);
  $("maxClaims")   && ($("maxClaims").textContent   = String(MAX));
  $("claimedCount")&& ($("claimedCount").textContent= String(COUNT));
  $("contractBal") && ($("contractBal").textContent = `${fmt(BALANCE)} ATN`);
  $("remaining")   && ($("remaining").textContent   = `Remaining: ${Math.max(Number(MAX)-Number(COUNT),0)} slots`);

  /* progress bar + label (giữ như lần trước) */
  const pb = $("claimProgress"), lbl = $("claimProgressLabel");
  if (pb && MAX > 0) {
    const pct = Math.min(100, Math.round((COUNT / MAX) * 100));
    pb.style.setProperty("--pct", pct + "%");
    lbl && (lbl.textContent = `${COUNT}/${MAX} claimed (${pct}%)`);
  }

  /* NEW: show opening time in Vietnam (GMT+7) if phần tử tồn tại */
  const openVN = $("openAtVN");
  if (openVN && START_TS > 0){
    openVN.textContent = new Date(START_TS*1000).toLocaleString(
      "vi-VN",
      { timeZone:"Asia/Ho_Chi_Minh", hour12:false, year:"numeric", month:"2-digit", day:"2-digit", hour:"2-digit", minute:"2-digit", second:"2-digit" }
    ) + " GMT+7";
  }
}

/*** ====== ENABLE/DISABLE CLAIM + MESSAGES ====== ***/
function updateClaimButton(){
  const nowOK = (START_TS>0) && (nowSec() >= START_TS);
  const hasWallet = !!account;
  const hasFollow = $("followChk")?.checked ?? false;
  const left = MAX - COUNT;
  const enough = ethers.BigNumber.from(BALANCE).gte(ethers.BigNumber.from(PER_WALLET));

  const enable = nowOK && hasWallet && hasFollow && left>0 && enough && !CLAIMED;
  $("claimBtn").disabled = !enable;

  if (!nowOK) setMsg("Claiming has not started yet.", "warn");
  else if (!hasWallet) setMsg("Connect your wallet to claim.", "info");
  else if (!hasFollow) setMsg(`Please follow @${X_HANDLE} and tick the checkbox.`, "warn");
  else if (!enough) setMsg(left<=0 ? "All claim slots have been used." : "The contract has insufficient tokens for claiming.", "warn");
  else setMsg("");
}

/*** ====== COUNTDOWN (uses on-chain time) ====== ***/
function startCountdown(){
  if (countdownTimer) clearInterval(countdownTimer);
  const el=$("countdown"), badge=$("openBadge");
  function tick(){
    if (!START_TS){ el.textContent="--:--:--:--"; if(badge) badge.style.display="none"; return; }
    let diff = START_TS - nowSec();
    if (diff <= 0){ el.textContent = "00:00:00:00"; if(badge) badge.style.display="inline-block"; updateClaimButton(); return; }
    const d=Math.floor(diff/86400); diff%=86400;
    const h=Math.floor(diff/3600);  diff%=3600;
    const m=Math.floor(diff/60);    const s=diff%60;
    el.textContent = `${String(d).padStart(2,"0")}:${String(h).padStart(2,"0")}:${String(m).padStart(2,"0")}:${String(s).padStart(2,"0")}`;
    if(badge) badge.style.display="none";
  }
  tick();
  countdownTimer = setInterval(tick,1000);
}

/*** ====== READ INFO FROM CONTRACT ====== ***/
async function fetchInfo(){
  const u = account || ZERO;
  const r = await airdrop.info(u);
  START_TS     = Number(r._startTime);
  PER_WALLET   = r._amountPerWallet.toString();
  MAX          = Number(r._maxClaims);
  COUNT        = Number(r._claimsCount);
  CLAIMED      = Boolean(r._claimed);
  BALANCE      = r._contractBalance.toString();
  renderStats();
  updateClaimButton();
}

/*** ====== ENSURE BSC ON METAMASK ====== ***/
async function ensureBSC(){
  const net = await provider.getNetwork();
  if (net.chainId !== 56) {
    try{
      await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x38"}]});
    }catch{
      await window.ethereum.request({
        method:"wallet_addEthereumChain",
        params:[{ chainId:"0x38", chainName:"BNB Smart Chain",
          nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},
          rpcUrls:["https://bsc-dataseed.binance.org/"],
          blockExplorerUrls:["https://bscscan.com/"] }]}
      );
    }
  }
}

/*** ====== CONNECT WALLET ====== ***/
async function connect(){
  try{
    if(!window.ethereum){ setMsg("Please install MetaMask.", "error"); return; }
    provider = new ethers.providers.Web3Provider(window.ethereum,"any");
    await provider.send("eth_requestAccounts",[]);
    await ensureBSC();
    signer   = provider.getSigner();
    account  = await signer.getAddress();
    $("accountLabel").textContent = "Wallet: " + short(account);
    airdrop  = new ethers.Contract(AIRDROP_ADDR, AIRDROP_ABI, provider);

    // NEW: sync chain time ngay sau khi có provider/signer
    await syncChainTime();
    if (chainSyncTimer) clearInterval(chainSyncTimer);
    chainSyncTimer = setInterval(syncChainTime, 30000);

    await fetchInfo();
    startCountdown();
    updateClaimButton();
  }catch(e){ setMsg(e?.message || String(e), "error"); }
}

/*** ====== DO CLAIM ====== ***/
async function doClaim(){
  try{
    if(!signer){ setMsg("Please connect your wallet first.", "error"); return; }
    if(!$("followChk").checked){ setMsg(`Please follow @${X_HANDLE} and tick the checkbox.`, "warn"); return; }
    if(nowSec() < START_TS){ setMsg("Claiming has not started yet.", "warn"); return; }
    setMsg("Submitting transaction...");
    const tx = await airdrop.connect(signer).claim();
    setMsg("Waiting for confirmation: " + tx.hash);
    await tx.wait();
    setMsg("Claim successful!", "success");
    await fetchInfo(); // refresh stats
  }catch(e){
    setMsg((e && (e.error?.message || e.data?.message || e.message)) || "Claim failed", "error");
  }
}

/*** ====== READ-ONLY INIT (no wallet) ====== ***/
async function initReadonly(){
  let lastErr;
  for (const url of RPCS){
    try{
      provider = new ethers.providers.JsonRpcProvider(url);
      await provider.getBlockNumber(); // ping
      airdrop  = new ethers.Contract(AIRDROP_ADDR, AIRDROP_ABI, provider);

      // NEW: sync chain time khi chỉ-đọc
      await syncChainTime();
      if (chainSyncTimer) clearInterval(chainSyncTimer);
      chainSyncTimer = setInterval(syncChainTime, 30000);

      await fetchInfo();
      startCountdown();
      startPolling();
      setMsg("Connect your wallet to claim.", "info");
      return;
    }catch(e){ lastErr = e; }
  }
  setMsg("Unable to reach BSC RPC from this browser. Open Console to see the error.", "error");
  console.error("RPC errors:", lastErr);
}

/*** ====== POLL EVERY 15s ====== ***/
function startPolling(){
  if (pollTimer) clearInterval(pollTimer);
  pollTimer = setInterval(async ()=>{
    try{ await fetchInfo(); }catch{}
  }, 15000);
}

/*** ====== EVENTS ====== ***/
document.addEventListener("DOMContentLoaded", initReadonly);
$("followChk") && $("followChk").addEventListener("change", updateClaimButton);
$("connectBtn") && $("connectBtn").addEventListener("click", connect);
$("claimBtn")   && $("claimBtn").addEventListener("click", doClaim);

if (window.ethereum){
  window.ethereum.on("accountsChanged", ()=>location.reload());
  window.ethereum.on("chainChanged",  ()=>location.reload());
}
})();
</script>
  <!-- CUSTOM LIVE CHART + STATS (kept) -->
  <script>
  const ctxLine = document.getElementById('priceLine')?.getContext('2d');
  if (ctxLine) {
    const priceData = {
      labels: [],
      datasets: [{
        label: 'ATN/USD',
        data: [],
        borderColor: 'rgba(34,197,94,1)',
        borderWidth: 2,
        backgroundColor: 'rgba(34,197,94,.12)',
        tension: 0.25,
        fill: true
      }]
    };

    const priceChart = new Chart(ctxLine, {
      type: 'line',
      data: priceData,
      options: {
        plugins: { legend: { display: false } },
        scales: {
          x: { ticks: { color: '#cbd5e1' }, grid: { color: 'rgba(148,163,184,.12)' } },
          y: { ticks: { color: '#cbd5e1' }, grid: { color: 'rgba(148,163,184,.12)' } }
        }
      }
    });

    const PAIR = "0x6a0ba3d48b25855bad2102796c837d9668ff8c18";
    const DS_URL = `https://api.dexscreener.com/latest/dex/pairs/bsc/${PAIR}`;

    const priceEl = document.getElementById('statPrice');
    const liqEl   = document.getElementById('statLiq');
    const fdvEl   = document.getElementById('statFdv');
    const volEl   = document.getElementById('statVol');

    function fmt(n){
      if(!n && n !== 0) return "—";
      const x = Number(n);
      if (x >= 1e9) return (x/1e9).toFixed(2) + "B";
      if (x >= 1e6) return (x/1e6).toFixed(2) + "M";
      if (x >= 1e3) return (x/1e3).toFixed(2) + "K";
      return x.toFixed(2);
    }

    async function refreshDex(){
      try{
        const r = await fetch(DS_URL, { cache: 'no-store' });
        const j = await r.json();
        const p = j?.pairs?.[0];
        if(!p) return;

        if (priceEl) priceEl.textContent = "$" + Number(p.priceUsd || 0).toFixed(6);
        if (liqEl)   liqEl.textContent   = "$" + fmt(p.liquidity?.usd);
        if (fdvEl)   fdvEl.textContent   = "$" + fmt(p.fdv);
        if (volEl)   volEl.textContent   = "$" + fmt(p.volume?.h24);

        const label = new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
        priceData.labels.push(label);
        priceData.datasets[0].data.push(Number(p.priceUsd || 0));

        if(priceData.labels.length > 50){
          priceData.labels.shift();
          priceData.datasets[0].data.shift();
        }
        priceChart.update();
      }catch(e){
        console.log("Dex fetch error:", e);
      }
    }

    refreshDex();
    setInterval(refreshDex, 20000);
  }
  </script>
</body>
</html>

